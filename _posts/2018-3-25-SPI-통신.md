---
layout: post
title: SPI
---

  SPI는 주로 임베디드 시스템에서 근거리 통신에 사용되는 동기 방식의 직렬 통신 인터페이스 입니다. 1980년대 중반에 모토로라가 개발했으며 표준으로 채택되었습니다. 일반적인 애플리케이션에는 SD카드와 액정 디스플레이가 포함되어 있습니다. 

  SPI 장치는 마스터 - 슬레이브 아키텍처를 사용하여 전 이중 방식으로 통신합니다. 마스터 장치는 읽기와 쓰기를 위해 프레임을 생성합니다. 여러 슬레이브 장치들은 슬레이브 선택(SS, slave select)회선을 통해 선택됩니다.

  SPI는 1~3선 직렬 버스와 대조되는 4선 직렬 버스라고도 합니다. SPI는 동기 직렬 인터페이스(synchronous serial interface)로 정확하게 기술 될 수 있지만, 4선 동기 직렬 프로토콜인 동기식 직렬 인터페이스(SSI, Synchronous Serial Interface) 프로토콜과는 다릅니다. SSI 프로토콜은 차동 시그널링을 사용하며 단일 단방향 통신 채널만 제공합니다.

## 목차
  1. __인터페이스__  
  2. __조작__
   - __데이터 전송__


## 인터페이스

  SPI 버스는 4개의 논리 신호를 사용합니다. 
  
  ![Single Master to Single Slave: basic SPI bus example.](https://upload.wikimedia.org/wikipedia/commons/thumb/e/ed/SPI_single_slave.svg/350px-SPI_single_slave.svg.png)
  
  - SLCK: 직렬 신호 (마스터에서 출력)
  - MOSI: 마스터 출력 &lt;-&gt; 슬레이브 출력(마스터에서 데이터 출력)
  - MISO: 마스터 입력 &lt;-&gt; 슬레이브 입력(슬레이브에서 데이터 출력)
  - SS: 슬레이브 선택 (마스터 에서 출력)

  위의 핀 이름이 가장 많이 사용되었지만 이전의 핀 명명규칙이 간혹 사용되었기 때문에 구형 IC 제품의 SPI 포트 핀 이름은 다를수 있습니다.

## 조작
  SPI 버스는 단일 마스터 장치 및 하나 이상의 슬레이브 장치로 작동 할 수 있습니다. 단일 디바이스인 경우, 슬레이브가 허용하면 SS핀은 논리 로우(logic low)로 고정 될 수 있습니다. 일부 슬레이브는 작동을 시작하기 위해 칩 선택 신호(SS)의 하강 에지(falling edge)를 요구합니다. 한 가지 예로는 Maxim MAX 1242 ADC로, 높은 주파수에서 낮은 주파수로 변환합니다. 여러 개의 슬레이비 장치가 있는 경우 각 슬레이브 장치에서 독립적인 SS 신호가 필요합니다.

  대부분 장치에는 tri-state 출력이 있기 때문에  선택하지 않으면 MISO 신호가 높은 온저항(impedance)가 됩니다. tri-state 출력이 없는 디바이스는 SPI 버스 세그먼트를 다른 디바이스와 공유 할 수 없기 떄문에 슬레이브 중 하나만 마스터와 대화할 수 있습니다.

### 데이터 전송

## 출처
  1. Serial Peripheral Interface Bus(<https://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus>)

