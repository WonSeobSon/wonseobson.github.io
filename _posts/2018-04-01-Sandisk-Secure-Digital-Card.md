---
layout: post
title: Sandisk Secure Digital Card
---



## 목차
<ul>
 <li>1. SD카드 소개</li>
 <li>2. 제픔 사양</li>
 <li>3. SD 카드 인터페이스 설명</li>
 <li>4. 보안 디지털(SD) 카드 프로토콜 설명</li>
 <li>5. SPI 프로토콜 정의
  <ul>
    <li>5.1. SPI 버스 프로토콜
     <ul>
      <li>5.1.1. 모드 선택</li>
      <li>5.1.2. 버스 전송 보호</li>
      <li>5.1.3. 데이터 읽기</li>
      <li>5.1.4. 데이터 쓰기</li>
      <li>5.1.5. 지우기 및 쓰기 보호 관리</li>
      <li>5.1.6. CID/CSD 레지스터 읽기</li>
      <li>5.1.7. 시퀀스 리셋</li>
      <li>5.1.8. 클록 제어</li>
      <li>5.1.9. 에러 검출
        <ul>
         <li>5.1.9.1. CRC 와 잘못된 명령(Illegal Commands)</li>    
         <li>5.1.9.2. 읽기, 쓰기 및 지우기 시간 초과 조건(Time-out Conditions)</li>    
        </ul>
       </li>
      <li>5.1.10. 메모리 배열 분활</li>
      <li>5.1.11. 카드 잠금/해제</li>
      <li>5.1.12. 응용 프로그램별 명령</li>
      <li>5.1.13. 저작권 보호 명령</li>
     </ul>
    </li>
    <ul>
     <li>5.2. SPI 명령어 집합
      <ul>
       <li>5.2.1. 명령어 형식</li>
       <li>5.2.2. 명령어 클래스</li>
       <li>5.2.3. 응답</li>
       <li>5.2.4. 데이터 토큰</li>
       <li>5.2.5. 데이터 오류 토큰</li>
       <li>5.2.6. Clearing Status Bits</li>
      </ul>
     </li>
     <li>5.3. 카드 레지스터</li>
     <li>5.4. SPI 버스 타이밍 다이아그램
      <ul>
       <li>5.4.1. 명령/응답</li>
       <li>5.4.2. 데이터 읽기</li>
       <li>5.4.3. 데이터 쓰기</li>
       <li>5.4.4. 타이밍 값</li>
      </ul>
     </li>
     <li>5.5. SPI 전기 인터페이(Electrical Interface)</li>
     <li>5.6. SPI 버스 작동 조건</li>
     <li>5.7. 버스 타이밍</li>
    </ul>
  </ul>
 </li>
 <li>부록 A. 애플리케이션 메모</li>
 <li>부록 B. 주문 정보</li>
 <li>부록 C. SnaDisk 전세계 영업소</li>
 <li>부록 D. 제한 보증</li>
 <li>부록 E. 책임 면책</li>
</ul>


## 4. 보안 디지털(SD)프토토콜 설명

## 5. SPI 프로토콜 정의

### 5.1. SPI 버스 프로토콜

  SD 카드 채널은 시작 비트에 의해 시작되고 종료 비트에 의해 종료되는 명령 및 데이터 비트 스트림을 기반으로 하지만, SPI 채널은 바이트 지향적입니다. 모든 명령 또는 데이터 블록은 8비트 바이트로 구성되며 CS신호에 맞춰 바이트 정렬(8클록의 배수)됩니다.

  SD버스 프로토콜과 마찬가지로 SPU 메시지는 명령, 응답 및 데이트 블록 토큰으로 작성됩니다. 호스트와 카드 사이의 모든 통신은 호스트(마스터)에 의해 제어딥니다. 호스트는 CS 신호를 로우로 만들면서 모든 버스 트랜잭션을 시작합니다. 

  SPI 버스 모드의 응답 동작은 다음 세가지 방법으로 SD카드와는 다릅니다:
   - 선택한 카드는 항상 명령에 응답합니다.
   - 8bit 또는 16bit 응답 구조가 사용됩니다.
   - 데이터 검색 문제가 발생하면 SD버스 모드에서 처럼 시간 초과보다 (예상 데이터 블록을 대체 하는)오류 응답으로 응답합니다.

  명령 응답 응답외에, 쓰기 작업 중에 카드에 전송되는 모든 데이터 블록은 특수 데이터 응답 토큰으로 응답합니다. 